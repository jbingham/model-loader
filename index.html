<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>Model Loader API</title>
  <meta content="w3c/CG-DRAFT" name="w3c-status">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version 82ce88815, updated Thu Sep 7 16:33:55 2023 -0700" name="generator">
  <link href="https://webmachinelearning.github.io/model-loader/" rel="canonical">
  <link href="https://www.w3.org/2008/site/images/favicon.ico" rel="icon">
  <meta content="14b035e8922cb8dc715cd9c9d77727537f390afb" name="document-revision">
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    white-space: pre;
    display: inline-block;
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled[role="button"] { cursor: pointer; }
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */

            pre.idl.highlight {
                background: var(--borderedblock-bg, var(--def-bg));
            }
            
</style>
<style>/* Boilerplate: style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */


@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://webmachinelearning.github.io/"> <img alt="Logo" height="100" src="https://webmachinelearning.github.io/webmachinelearning-logo.png" width="100"> </a> </p>
   <h1 class="p-name no-ref" id="title">Model Loader API</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types#CG-DRAFT">Draft Community Group Report</a>, <time class="dt-updated" datetime="2024-02-26">26 February 2024</time></p>
   <details open>
    <summary>More details about this document</summary>
    <div data-fill-with="spec-metadata">
     <dl>
      <dt>This version:
      <dd><a class="u-url" href="https://webmachinelearning.github.io/model-loader/">https://webmachinelearning.github.io/model-loader/</a>
      <dt>Issue Tracking:
      <dd><a href="https://github.com/webmachinelearning/model-loader/issues/">GitHub</a>
      <dt class="editor">Editor:
      <dd class="editor p-author h-card vcard" data-editor-id="114606"><span class="p-name fn">Jonathan Bingham</span> (<a class="p-org org" href="https://google.com">Google Inc.</a>)
      <dt>Explainer:
      <dd><a href="https://github.com/webmachinelearning/model-loader/blob/master/explainer.md">explainer.md</a>
     </dl>
    </div>
   </details>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2024 the Contributors to the Model Loader API Specification, published by the <a href="https://www.w3.org/community/webmachinelearning/">Web Machine Learning Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This document describes an API to load a custom pre-trained machine learning model.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="sotd"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> This specification was published by the <a href="https://www.w3.org/community/webmachinelearning/">Web Machine Learning Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a> there is a limited opt-out and other conditions apply.

  Learn more about <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>. </p>
   <p></p>
   <p><strong>This incubation is on pause, see <a href="https://github.com/webmachinelearning/model-loader/issues/36">discussion</a> for the latest updates.</strong></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
    <li><a href="#api"><span class="secno">2</span> <span class="content">API</span></a>
    <li><a href="#examples"><span class="secno">3</span> <span class="content">Examples</span></a>
    <li>
     <a href="#w3c-conformance"><span class="secno"></span> <span class="content">Conformance</span></a>
     <ol class="toc">
      <li><a href="#w3c-conventions"><span class="secno"></span> <span class="content">Document conventions</span></a>
     </ol>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <p>For the introduction and use cases, please see the <a href="https://github.com/webmachinelearning/model-loader/blob/master/explainer.md">explainer.md</a>.</p>
   <p>For illustration purposes, the API and examples use the <a href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/lite/schema/schema.fbs">TF Lite flatbuffer</a> format.</p>
   <h2 class="heading settled" data-level="2" id="api"><span class="secno">2. </span><span class="content">API</span><a class="self-link" href="#api"></a></h2>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-mlmodelformat"><code><c- g>MLModelFormat</c-></code></dfn> {
  // Tensorflow-lite flatbuffer.
  <dfn class="idl-code" data-dfn-for="MLModelFormat" data-dfn-type="enum-value" data-export id="dom-mlmodelformat-tflite"><code><c- s>"tflite"</c-></code><a class="self-link" href="#dom-mlmodelformat-tflite"></a></dfn> 
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-mldevicepreference"><code><c- g>MLDevicePreference</c-></code></dfn> {
  // Let the backend selects the most suitable device.
  <dfn class="idl-code" data-dfn-for="MLDevicePreference" data-dfn-type="enum-value" data-export id="dom-mldevicepreference-auto"><code><c- s>"auto"</c-></code><a class="self-link" href="#dom-mldevicepreference-auto"></a></dfn>,
  // The backend will use GPU to do model inference. If some operator is not
  // supported by GPU, it will fall back to CPU.
  <dfn class="idl-code" data-dfn-for="MLDevicePreference" data-dfn-type="enum-value" data-export id="dom-mldevicepreference-gpu"><code><c- s>"gpu"</c-></code><a class="self-link" href="#dom-mldevicepreference-gpu"></a></dfn>,
  // The backend will use CPU to do model inference.
  <dfn class="idl-code" data-dfn-for="MLDevicePreference" data-dfn-type="enum-value" data-export id="dom-mldevicepreference-cpu"><code><c- s>"cpu"</c-></code><a class="self-link" href="#dom-mldevicepreference-cpu"></a></dfn>
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-mlpowerpreference"><code><c- g>MLPowerPreference</c-></code></dfn> {
  // Let the backend selects the most suitable behavior.
  <dfn class="idl-code" data-dfn-for="MLPowerPreference" data-dfn-type="enum-value" data-export id="dom-mlpowerpreference-auto"><code><c- s>"auto"</c-></code><a class="self-link" href="#dom-mlpowerpreference-auto"></a></dfn>,
  // Prioritizes execution speed over power consumption.
  <dfn class="idl-code" data-dfn-for="MLPowerPreference" data-dfn-type="enum-value" data-export id="dom-mlpowerpreference-high-performance"><code><c- s>"high-performance"</c-></code><a class="self-link" href="#dom-mlpowerpreference-high-performance"></a></dfn>,
  // Prioritizes power consumption over other considerations such as execution
  // speed.
  <dfn class="idl-code" data-dfn-for="MLPowerPreference" data-dfn-type="enum-value" data-export id="dom-mlpowerpreference-low-power"><code><c- s>"low-power"</c-></code><a class="self-link" href="#dom-mlpowerpreference-low-power"></a></dfn>,
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mlcontextoptions"><code><c- g>MLContextOptions</c-></code></dfn> {
  // Preferred kind of device to use.
  <a data-link-type="idl-name" href="#enumdef-mldevicepreference" id="ref-for-enumdef-mldevicepreference"><c- n>MLDevicePreference</c-></a> <dfn class="idl-code" data-default="&quot;auto&quot;" data-dfn-for="MLContextOptions" data-dfn-type="dict-member" data-export data-type="MLDevicePreference " id="dom-mlcontextoptions-devicepreference"><code><c- g>devicePreference</c-></code><a class="self-link" href="#dom-mlcontextoptions-devicepreference"></a></dfn> = "auto";

  // Preference as related to power consumption.
  <a data-link-type="idl-name" href="#enumdef-mlpowerpreference" id="ref-for-enumdef-mlpowerpreference"><c- n>MLPowerPreference</c-></a> <dfn class="idl-code" data-default="&quot;auto&quot;" data-dfn-for="MLContextOptions" data-dfn-type="dict-member" data-export data-type="MLPowerPreference " id="dom-mlcontextoptions-powerpreference"><code><c- g>powerPreference</c-></code><a class="self-link" href="#dom-mlcontextoptions-powerpreference"></a></dfn> = "auto";

  // Model format for the model loader API.
  <a data-link-type="idl-name" href="#enumdef-mlmodelformat" id="ref-for-enumdef-mlmodelformat"><c- n>MLModelFormat</c-></a> <dfn class="idl-code" data-default="&quot;tflite&quot;" data-dfn-for="MLContextOptions" data-dfn-type="dict-member" data-export data-type="MLModelFormat " id="dom-mlcontextoptions-modelformat"><code><c- g>modelFormat</c-></code><a class="self-link" href="#dom-mlcontextoptions-modelformat"></a></dfn> = "tflite";
  
  // Number of thread to use.
  // "0" means the backend can determine it automatically.
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <dfn class="idl-code" data-default="0" data-dfn-for="MLContextOptions" data-dfn-type="dict-member" data-export data-type="unsigned long " id="dom-mlcontextoptions-numthreads"><code><c- g>numThreads</c-></code><a class="self-link" href="#dom-mlcontextoptions-numthreads"></a></dfn> = 0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="idl-code" data-dfn-type="interface" data-export id="ml"><code><c- g>ML</c-></code><a class="self-link" href="#ml"></a></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://webmachinelearning.github.io/webnn/#mlcontext" id="ref-for-mlcontext"><c- n>MLContext</c-></a>> <dfn class="idl-code" data-dfn-for="ML" data-dfn-type="method" data-export data-lt="createContext(options)|createContext()" id="dom-ml-createcontext"><code><c- g>createContext</c-></code><a class="self-link" href="#dom-ml-createcontext"></a></dfn>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-mlcontextoptions" id="ref-for-dictdef-mlcontextoptions"><c- n>MLContextOptions</c-></a> <dfn class="idl-code" data-dfn-for="ML/createContext(options), ML/createContext()" data-dfn-type="argument" data-export id="dom-ml-createcontext-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-ml-createcontext-options-options"></a></dfn> = {});
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-mldatatype"><code><c- g>MLDataType</c-></code></dfn> {
  // "Unknown" doesn’t mean "unsupported". The background can support more types
  // than which are explicitly listed here (e.g., TfLite has complex numbers).
  // We treat them as "unknown" to avoid exposing too many details of the
  // backends from the beginning.
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-unknown"><code><c- s>"unknown"</c-></code><a class="self-link" href="#dom-mldatatype-unknown"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-int64"><code><c- s>"int64"</c-></code><a class="self-link" href="#dom-mldatatype-int64"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-uint64"><code><c- s>"uint64"</c-></code><a class="self-link" href="#dom-mldatatype-uint64"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-float64"><code><c- s>"float64"</c-></code><a class="self-link" href="#dom-mldatatype-float64"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-int32"><code><c- s>"int32"</c-></code><a class="self-link" href="#dom-mldatatype-int32"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-uint32"><code><c- s>"uint32"</c-></code><a class="self-link" href="#dom-mldatatype-uint32"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-float32"><code><c- s>"float32"</c-></code><a class="self-link" href="#dom-mldatatype-float32"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-int16"><code><c- s>"int16"</c-></code><a class="self-link" href="#dom-mldatatype-int16"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-uint16"><code><c- s>"uint16"</c-></code><a class="self-link" href="#dom-mldatatype-uint16"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-float16"><code><c- s>"float16"</c-></code><a class="self-link" href="#dom-mldatatype-float16"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-int8"><code><c- s>"int8"</c-></code><a class="self-link" href="#dom-mldatatype-int8"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-uint8"><code><c- s>"uint8"</c-></code><a class="self-link" href="#dom-mldatatype-uint8"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="MLDataType" data-dfn-type="enum-value" data-export id="dom-mldatatype-bool"><code><c- s>"bool"</c-></code><a class="self-link" href="#dom-mldatatype-bool"></a></dfn>,
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mltensor"><code><c- g>MLTensor</c-></code></dfn> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView" id="ref-for-ArrayBufferView"><c- n>ArrayBufferView</c-></a> <dfn class="idl-code" data-dfn-for="MLTensor" data-dfn-type="dict-member" data-export data-type="ArrayBufferView " id="dom-mltensor-data"><code><c- g>data</c-></code><a class="self-link" href="#dom-mltensor-data"></a></dfn>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><c- b>unsigned</c-> <c- b>long</c-></a>> <dfn class="idl-code" data-dfn-for="MLTensor" data-dfn-type="dict-member" data-export data-type="sequence<unsigned long> " id="dom-mltensor-dimensions"><code><c- g>dimensions</c-></code><a class="self-link" href="#dom-mltensor-dimensions"></a></dfn>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-mltensorinfo"><code><c- g>MLTensorInfo</c-></code></dfn> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="MLTensorInfo" data-dfn-type="dict-member" data-export data-type="DOMString " id="dom-mltensorinfo-name"><code><c- g>name</c-></code><a class="self-link" href="#dom-mltensorinfo-name"></a></dfn>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-mldatatype" id="ref-for-enumdef-mldatatype"><c- n>MLDataType</c-></a> <dfn class="idl-code" data-dfn-for="MLTensorInfo" data-dfn-type="dict-member" data-export data-type="MLDataType " id="dom-mltensorinfo-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-mltensorinfo-type"></a></dfn>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence①"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><c- b>unsigned</c-> <c- b>long</c-></a>> <dfn class="idl-code" data-dfn-for="MLTensorInfo" data-dfn-type="dict-member" data-export data-type="sequence<unsigned long> " id="dom-mltensorinfo-dimensions"><code><c- g>dimensions</c-></code><a class="self-link" href="#dom-mltensorinfo-dimensions"></a></dfn>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="mlmodel"><code><c- g>MLModel</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise①"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#dictdef-mltensor" id="ref-for-dictdef-mltensor"><c- n>MLTensor</c-></a>>> <dfn class="idl-code" data-dfn-for="MLModel" data-dfn-type="method" data-export data-lt="compute(inputs)" id="dom-mlmodel-compute"><code><c- g>compute</c-></code><a class="self-link" href="#dom-mlmodel-compute"></a></dfn>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record" id="ref-for-idl-record①"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#dictdef-mltensor" id="ref-for-dictdef-mltensor①"><c- n>MLTensor</c-></a>> <dfn class="idl-code" data-dfn-for="MLModel/compute(inputs)" data-dfn-type="argument" data-export id="dom-mlmodel-compute-inputs-inputs"><code><c- g>inputs</c-></code><a class="self-link" href="#dom-mlmodel-compute-inputs-inputs"></a></dfn>);      
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence②"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-mltensorinfo" id="ref-for-dictdef-mltensorinfo"><c- n>MLTensorInfo</c-></a>> <dfn class="idl-code" data-dfn-for="MLModel" data-dfn-type="method" data-export data-lt="inputs()" id="dom-mlmodel-inputs"><code><c- g>inputs</c-></code><a class="self-link" href="#dom-mlmodel-inputs"></a></dfn>();
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence" id="ref-for-idl-sequence③"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-mltensorinfo" id="ref-for-dictdef-mltensorinfo①"><c- n>MLTensorInfo</c-></a>> <dfn class="idl-code" data-dfn-for="MLModel" data-dfn-type="method" data-export data-lt="outputs()" id="dom-mlmodel-outputs"><code><c- g>outputs</c-></code><a class="self-link" href="#dom-mlmodel-outputs"></a></dfn>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="idl-code" data-dfn-type="interface" data-export id="mlmodelloader"><code><c- g>MLModelLoader</c-></code><a class="self-link" href="#mlmodelloader"></a></dfn> {
  <dfn class="idl-code" data-dfn-for="MLModelLoader" data-dfn-type="constructor" data-export data-lt="MLModelLoader(context)|constructor(context)" id="dom-mlmodelloader-mlmodelloader"><code><c- g>constructor</c-></code><a class="self-link" href="#dom-mlmodelloader-mlmodelloader"></a></dfn>(<a data-link-type="idl-name" href="https://webmachinelearning.github.io/webnn/#mlcontext" id="ref-for-mlcontext①"><c- n>MLContext</c-></a> <dfn class="idl-code" data-dfn-for="MLModelLoader/MLModelLoader(context), MLModelLoader/constructor(context)" data-dfn-type="argument" data-export id="dom-mlmodelloader-mlmodelloader-context-context"><code><c- g>context</c-></code><a class="self-link" href="#dom-mlmodelloader-mlmodelloader-context-context"></a></dfn>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise" id="ref-for-idl-promise②"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#mlmodel" id="ref-for-mlmodel"><c- n>MLModel</c-></a>> <dfn class="idl-code" data-dfn-for="MLModelLoader" data-dfn-type="method" data-export data-lt="load(modelBuffer)" id="dom-mlmodelloader-load"><code><c- g>load</c-></code><a class="self-link" href="#dom-mlmodelloader-load"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer" id="ref-for-idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <dfn class="idl-code" data-dfn-for="MLModelLoader/load(modelBuffer)" data-dfn-type="argument" data-export id="dom-mlmodelloader-load-modelbuffer-modelbuffer"><code><c- g>modelBuffer</c-></code><a class="self-link" href="#dom-mlmodelloader-load-modelbuffer-modelbuffer"></a></dfn>);
};

</pre>
   <h2 class="heading settled" data-level="3" id="examples"><span class="secno">3. </span><span class="content">Examples</span><a class="self-link" href="#examples"></a></h2>
<pre class="highlight"><c- c1>// First, create an MLContext. This is consistent with the WebNN API. And we will </c->
<c- c1>// add two new fields, “numThread” and "modelFormat". </c->
<c- a>const</c-> context <c- o>=</c-> <c- k>await</c-> navigator<c- p>.</c->ml<c- p>.</c->createContext<c- p>(</c->
                                     <c- p>{</c-> devicePreference<c- o>:</c-> <c- u>"cpu"</c-><c- p>,</c->
                                       powerPreference<c- o>:</c-> <c- u>"low-power"</c-><c- p>,</c->
                                       numThread<c- o>:</c-> <c- mf>0</c-><c- p>,</c->   <c- c1>// the default 0 means </c->
                                                       <c- c1>// "decide automatically". </c->
                                       modelFormat<c- o>:</c-> <c- u>"tflite"</c-> <c- p>});</c->
<c- c1>// Then create the model loader using the ML context.</c->
loader <c- o>=</c-> <c- ow>new</c-> MLModelLoader<c- p>(</c->context<c- p>);</c->
<c- c1>// In the first version, we only support loading models from ArrayBuffers. We </c->
<c- c1>// believe this covers most of the usage cases. Web developers can download the </c->
<c- c1>// model, e.g., by the fetch API. We can add new "load" functions in the future</c->
<c- c1>// if they are really needed.</c->
<c- a>const</c-> modelUrl <c- o>=</c-> <c- t>'https://path/to/model/file'</c-><c- p>;</c->
<c- a>const</c-> modelBuffer <c- o>=</c-> <c- k>await</c-> fetch<c- p>(</c->modelUrl<c- p>)</c->
                            <c- p>.</c->then<c- p>(</c->response <c- p>=></c-> response<c- p>.</c->arrayBuffer<c- p>());</c->
<c- c1>// Load the model.</c->
model <c- o>=</c-> <c- k>await</c-> loader<c- p>.</c->load<c- p>(</c->modelBuffer<c- p>);</c->
<c- c1>// Use the `model.compute` function to get the output of the model from some </c->
<c- c1>// inputs.  Example ways of using this function includes, </c->
<c- c1>// 1. When there is only one input tensor of the model, one can simply input the </c->
<c- c1>// tensor, without specifying the name of it (the user can still designate this </c->
<c- c1>// input tensor by name if they like).</c->
z <c- o>=</c-> <c- k>await</c-> model<c- p>.</c->compute<c- p>({</c-> data<c- o>:</c-> <c- ow>new</c-> Float32Array<c- p>([</c-><c- mf>10</c-><c- p>]),</c-> 
                          dimensions<c- o>:</c-> <c- p>[</c-><c- mf>1</c-><c- p>])</c-> <c- p>});</c->
<c- c1>// 2. When there are multiple input tensors, the user has to designate the name </c->
<c- c1>// of the input tensors by their names.</c->
z <c- o>=</c-> <c- k>await</c-> model<c- p>.</c->compute<c- p>({</c-> x<c- o>:</c-> <c- p>{</c-> data<c- o>:</c-> <c- ow>new</c-> Float32Array<c- p>([</c-><c- mf>10</c-><c- p>]),</c-> 
                               dimensions<c- o>:</c-> <c- p>[</c-><c- mf>1</c-><c- p>]</c-> <c- p>},</c->
                          y<c- o>:</c-> <c- p>{</c-> data<c- o>:</c-> <c- ow>new</c-> Float32Array<c- p>([</c-><c- mf>20</c-><c- p>]),</c-> 
                               dimensions<c- o>:</c-> <c- p>[</c-><c- mf>1</c-><c- p>]</c-> <c- p>}</c-> <c- p>});</c->
<c- c1>// 3. The client can also specify the output tensor. This is consistent with the </c->
<c- c1>// WebNN API and can be useful, e.g., when the output tensor is a GPU buffer. At </c->
<c- c1>// this time, the function will return an empty promise. The dimension of the </c->
<c- c1>// output tensor specified must match the dimensions of the output tensor of the </c->
<c- c1>// model. </c->
z_buffer <c- o>=</c-> ml<c- p>.</c->tensor<c- p>({</c->data<c- o>:</c-> <c- ow>new</c-> Float64Array<c- p>(</c-><c- mf>1</c-><c- p>),</c-> 
                      dimensions<c- o>:</c-> <c- p>[</c-><c- mf>1</c-><c- p>]</c-> <c- p>});</c->
<c- k>await</c-> model<c- p>.</c->compute<c- p>({</c-> data<c- o>:</c-> <c- ow>new</c-> Float32Array<c- p>([</c-><c- mf>10</c-><c- p>]),</c-> 
                      dimensions<c- o>:</c-> <c- p>[</c-><c- mf>1</c-><c- p>]</c-> <c- p>},</c->
                    z_buffer<c- p>);</c->
<c- c1>// For the output tensor(s),</c->
<c- c1>// Similar to the input arguments, if there is only one output tensor, the </c->
<c- c1>// `compute` function returns a tensor in case 1 and 2, and there is no need to </c->
<c- c1>// specify the name of the output tensor in case 3. But if there are multiple </c->
<c- c1>// output tensors, the output in case 1 and 2 will be a map from tensor name to </c->
<c- c1>// tensors, and in case 3, the output argument must be a map from tensor name to</c->
<c- c1>// tensors too.</c->
<c- c1>// For case 1 and 2, where the actual output data locate will depend on the </c->
<c- c1>// context: if it is CPU context, the output tensor’s buffer will be RAM buffer(s)</c->
<c- c1>// and if the context is GPU context, the output tensor’s buffer will be GPU </c->
<c- c1>// buffer(s).</c->
</pre>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="w3c-conformance"><span class="content">Conformance</span><a class="self-link" href="#w3c-conformance"></a></h2>
   <h3 class="no-ref no-num heading settled" id="w3c-conventions"><span class="content">Document conventions</span><a class="self-link" href="#w3c-conventions"></a></h3>
   <p>Conformance requirements are expressed
    with a combination of descriptive assertions
    and RFC 2119 terminology.
    The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
    in the normative parts of this document
    are to be interpreted as described in RFC 2119.
    However, for readability,
    these words do not appear in all uppercase letters in this specification. </p>
   <p>All of the text of this specification is normative
    except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119" title="Key words for use in RFCs to Indicate Requirement Levels">[RFC2119]</a> </p>
   <p>Examples in this specification are introduced with the words “for example”
    or are set apart from the normative text
    with <code>class="example"</code>,
    like this: </p>
   <div class="example" id="w3c-example">
    <a class="self-link" href="#w3c-example"></a> 
    <p>This is an example of an informative example. </p>
   </div>
   <p>Informative notes begin with the word “Note”
    and are set apart from the normative text
    with <code>class="note"</code>,
    like this: </p>
   <p class="note" role="note">Note, this is an informative note.</p>
  </div>
<script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li>
    "auto"
    <ul>
     <li><a href="#dom-mldevicepreference-auto">enum-value for MLDevicePreference</a><span>, in § 2</span>
     <li><a href="#dom-mlpowerpreference-auto">enum-value for MLPowerPreference</a><span>, in § 2</span>
    </ul>
   <li><a href="#dom-mldatatype-bool">"bool"</a><span>, in § 2</span>
   <li><a href="#dom-mlmodel-compute">compute(inputs)</a><span>, in § 2</span>
   <li><a href="#dom-mlmodelloader-mlmodelloader">constructor(context)</a><span>, in § 2</span>
   <li><a href="#dom-mldevicepreference-cpu">"cpu"</a><span>, in § 2</span>
   <li><a href="#dom-ml-createcontext">createContext()</a><span>, in § 2</span>
   <li><a href="#dom-ml-createcontext">createContext(options)</a><span>, in § 2</span>
   <li><a href="#dom-mltensor-data">data</a><span>, in § 2</span>
   <li><a href="#dom-mlcontextoptions-devicepreference">devicePreference</a><span>, in § 2</span>
   <li>
    dimensions
    <ul>
     <li><a href="#dom-mltensor-dimensions">dict-member for MLTensor</a><span>, in § 2</span>
     <li><a href="#dom-mltensorinfo-dimensions">dict-member for MLTensorInfo</a><span>, in § 2</span>
    </ul>
   <li><a href="#dom-mldatatype-float16">"float16"</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-float32">"float32"</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-float64">"float64"</a><span>, in § 2</span>
   <li><a href="#dom-mldevicepreference-gpu">"gpu"</a><span>, in § 2</span>
   <li><a href="#dom-mlpowerpreference-high-performance">"high-performance"</a><span>, in § 2</span>
   <li><a href="#dom-mlmodel-inputs">inputs()</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-int16">"int16"</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-int32">"int32"</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-int64">"int64"</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-int8">"int8"</a><span>, in § 2</span>
   <li><a href="#dom-mlmodelloader-load">load(modelBuffer)</a><span>, in § 2</span>
   <li><a href="#dom-mlpowerpreference-low-power">"low-power"</a><span>, in § 2</span>
   <li><a href="#ml">ML</a><span>, in § 2</span>
   <li><a href="#dictdef-mlcontextoptions">MLContextOptions</a><span>, in § 2</span>
   <li><a href="#enumdef-mldatatype">MLDataType</a><span>, in § 2</span>
   <li><a href="#enumdef-mldevicepreference">MLDevicePreference</a><span>, in § 2</span>
   <li><a href="#mlmodel">MLModel</a><span>, in § 2</span>
   <li><a href="#enumdef-mlmodelformat">MLModelFormat</a><span>, in § 2</span>
   <li><a href="#mlmodelloader">MLModelLoader</a><span>, in § 2</span>
   <li><a href="#dom-mlmodelloader-mlmodelloader">MLModelLoader(context)</a><span>, in § 2</span>
   <li><a href="#enumdef-mlpowerpreference">MLPowerPreference</a><span>, in § 2</span>
   <li><a href="#dictdef-mltensor">MLTensor</a><span>, in § 2</span>
   <li><a href="#dictdef-mltensorinfo">MLTensorInfo</a><span>, in § 2</span>
   <li><a href="#dom-mlcontextoptions-modelformat">modelFormat</a><span>, in § 2</span>
   <li><a href="#dom-mltensorinfo-name">name</a><span>, in § 2</span>
   <li><a href="#dom-mlcontextoptions-numthreads">numThreads</a><span>, in § 2</span>
   <li><a href="#dom-mlmodel-outputs">outputs()</a><span>, in § 2</span>
   <li><a href="#dom-mlcontextoptions-powerpreference">powerPreference</a><span>, in § 2</span>
   <li><a href="#dom-mlmodelformat-tflite">"tflite"</a><span>, in § 2</span>
   <li><a href="#dom-mltensorinfo-type">type</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-uint16">"uint16"</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-uint32">"uint32"</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-uint64">"uint64"</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-uint8">"uint8"</a><span>, in § 2</span>
   <li><a href="#dom-mldatatype-unknown">"unknown"</a><span>, in § 2</span>
  </ul>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2f8afbfe">ArrayBuffer</span>
     <li><span class="dfn-paneled" id="6c9ab516">ArrayBufferView</span>
     <li><span class="dfn-paneled" id="8855a9aa">DOMString</span>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="bdbd19d1">Promise</span>
     <li><span class="dfn-paneled" id="b75bb3bd">SecureContext</span>
     <li><span class="dfn-paneled" id="7787d359">record</span>
     <li><span class="dfn-paneled" id="9cce47fd">sequence</span>
     <li><span class="dfn-paneled" id="e97a9688">unsigned long</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBNN]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="60ea3729">MLContext</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://datatracker.ietf.org/doc/html/rfc2119"><cite>Key words for use in RFCs to Indicate Requirement Levels</cite></a>. March 1997. Best Current Practice. URL: <a href="https://datatracker.ietf.org/doc/html/rfc2119">https://datatracker.ietf.org/doc/html/rfc2119</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
   <dt id="biblio-webnn">[WEBNN]
   <dd>Ningxin Hu; Chai Chaoweeraprasit. <a href="https://webmachinelearning.github.io/webnn/"><cite>Web Neural Network API</cite></a>. URL: <a href="https://webmachinelearning.github.io/webnn/">https://webmachinelearning.github.io/webnn/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def"><c- b>enum</c-> <a href="#enumdef-mlmodelformat"><code><c- g>MLModelFormat</c-></code></a> {
  // Tensorflow-lite flatbuffer.
  <a href="#dom-mlmodelformat-tflite"><code><c- s>"tflite"</c-></code></a> 
};

<c- b>enum</c-> <a href="#enumdef-mldevicepreference"><code><c- g>MLDevicePreference</c-></code></a> {
  // Let the backend selects the most suitable device.
  <a href="#dom-mldevicepreference-auto"><code><c- s>"auto"</c-></code></a>,
  // The backend will use GPU to do model inference. If some operator is not
  // supported by GPU, it will fall back to CPU.
  <a href="#dom-mldevicepreference-gpu"><code><c- s>"gpu"</c-></code></a>,
  // The backend will use CPU to do model inference.
  <a href="#dom-mldevicepreference-cpu"><code><c- s>"cpu"</c-></code></a>
};

<c- b>enum</c-> <a href="#enumdef-mlpowerpreference"><code><c- g>MLPowerPreference</c-></code></a> {
  // Let the backend selects the most suitable behavior.
  <a href="#dom-mlpowerpreference-auto"><code><c- s>"auto"</c-></code></a>,
  // Prioritizes execution speed over power consumption.
  <a href="#dom-mlpowerpreference-high-performance"><code><c- s>"high-performance"</c-></code></a>,
  // Prioritizes power consumption over other considerations such as execution
  // speed.
  <a href="#dom-mlpowerpreference-low-power"><code><c- s>"low-power"</c-></code></a>,
};

<c- b>dictionary</c-> <a href="#dictdef-mlcontextoptions"><code><c- g>MLContextOptions</c-></code></a> {
  // Preferred kind of device to use.
  <a data-link-type="idl-name" href="#enumdef-mldevicepreference"><c- n>MLDevicePreference</c-></a> <a data-default="&quot;auto&quot;" data-type="MLDevicePreference " href="#dom-mlcontextoptions-devicepreference"><code><c- g>devicePreference</c-></code></a> = "auto";

  // Preference as related to power consumption.
  <a data-link-type="idl-name" href="#enumdef-mlpowerpreference"><c- n>MLPowerPreference</c-></a> <a data-default="&quot;auto&quot;" data-type="MLPowerPreference " href="#dom-mlcontextoptions-powerpreference"><code><c- g>powerPreference</c-></code></a> = "auto";

  // Model format for the model loader API.
  <a data-link-type="idl-name" href="#enumdef-mlmodelformat"><c- n>MLModelFormat</c-></a> <a data-default="&quot;tflite&quot;" data-type="MLModelFormat " href="#dom-mlcontextoptions-modelformat"><code><c- g>modelFormat</c-></code></a> = "tflite";
  
  // Number of thread to use.
  // "0" means the backend can determine it automatically.
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a data-default="0" data-type="unsigned long " href="#dom-mlcontextoptions-numthreads"><code><c- g>numThreads</c-></code></a> = 0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#ml"><code><c- g>ML</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="https://webmachinelearning.github.io/webnn/#mlcontext"><c- n>MLContext</c-></a>> <a href="#dom-ml-createcontext"><code><c- g>createContext</c-></code></a>(<c- b>optional</c-> <a data-link-type="idl-name" href="#dictdef-mlcontextoptions"><c- n>MLContextOptions</c-></a> <a href="#dom-ml-createcontext-options-options"><code><c- g>options</c-></code></a> = {});
};

<c- b>enum</c-> <a href="#enumdef-mldatatype"><code><c- g>MLDataType</c-></code></a> {
  // "Unknown" doesn’t mean "unsupported". The background can support more types
  // than which are explicitly listed here (e.g., TfLite has complex numbers).
  // We treat them as "unknown" to avoid exposing too many details of the
  // backends from the beginning.
  <a href="#dom-mldatatype-unknown"><code><c- s>"unknown"</c-></code></a>,
  <a href="#dom-mldatatype-int64"><code><c- s>"int64"</c-></code></a>,
  <a href="#dom-mldatatype-uint64"><code><c- s>"uint64"</c-></code></a>,
  <a href="#dom-mldatatype-float64"><code><c- s>"float64"</c-></code></a>,
  <a href="#dom-mldatatype-int32"><code><c- s>"int32"</c-></code></a>,
  <a href="#dom-mldatatype-uint32"><code><c- s>"uint32"</c-></code></a>,
  <a href="#dom-mldatatype-float32"><code><c- s>"float32"</c-></code></a>,
  <a href="#dom-mldatatype-int16"><code><c- s>"int16"</c-></code></a>,
  <a href="#dom-mldatatype-uint16"><code><c- s>"uint16"</c-></code></a>,
  <a href="#dom-mldatatype-float16"><code><c- s>"float16"</c-></code></a>,
  <a href="#dom-mldatatype-int8"><code><c- s>"int8"</c-></code></a>,
  <a href="#dom-mldatatype-uint8"><code><c- s>"uint8"</c-></code></a>,
  <a href="#dom-mldatatype-bool"><code><c- s>"bool"</c-></code></a>,
};

<c- b>dictionary</c-> <a href="#dictdef-mltensor"><code><c- g>MLTensor</c-></code></a> {
  <c- b>required</c-> <a data-link-type="idl-name" href="https://webidl.spec.whatwg.org/#ArrayBufferView"><c- n>ArrayBufferView</c-></a> <a data-type="ArrayBufferView " href="#dom-mltensor-data"><code><c- g>data</c-></code></a>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a>> <a data-type="sequence<unsigned long> " href="#dom-mltensor-dimensions"><code><c- g>dimensions</c-></code></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-mltensorinfo"><code><c- g>MLTensorInfo</c-></code></a> {
  <c- b>required</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a> <a data-type="DOMString " href="#dom-mltensorinfo-name"><code><c- g>name</c-></code></a>;
  <c- b>required</c-> <a data-link-type="idl-name" href="#enumdef-mldatatype"><c- n>MLDataType</c-></a> <a data-type="MLDataType " href="#dom-mltensorinfo-type"><code><c- g>type</c-></code></a>;
  <c- b>required</c-> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a>> <a data-type="sequence<unsigned long> " href="#dom-mltensorinfo-dimensions"><code><c- g>dimensions</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#mlmodel"><code><c- g>MLModel</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#dictdef-mltensor"><c- n>MLTensor</c-></a>>> <a href="#dom-mlmodel-compute"><code><c- g>compute</c-></code></a>(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-record"><c- b>record</c-></a>&lt;<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-DOMString"><c- b>DOMString</c-></a>, <a data-link-type="idl-name" href="#dictdef-mltensor"><c- n>MLTensor</c-></a>> <a href="#dom-mlmodel-compute-inputs-inputs"><code><c- g>inputs</c-></code></a>);      
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-mltensorinfo"><c- n>MLTensorInfo</c-></a>> <a href="#dom-mlmodel-inputs"><code><c- g>inputs</c-></code></a>();
  <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#idl-sequence"><c- b>sequence</c-></a>&lt;<a data-link-type="idl-name" href="#dictdef-mltensorinfo"><c- n>MLTensorInfo</c-></a>> <a href="#dom-mlmodel-outputs"><code><c- g>outputs</c-></code></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#mlmodelloader"><code><c- g>MLModelLoader</c-></code></a> {
  <a href="#dom-mlmodelloader-mlmodelloader"><code><c- g>constructor</c-></code></a>(<a data-link-type="idl-name" href="https://webmachinelearning.github.io/webnn/#mlcontext"><c- n>MLContext</c-></a> <a href="#dom-mlmodelloader-mlmodelloader-context-context"><code><c- g>context</c-></code></a>);
  <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-promise"><c- b>Promise</c-></a>&lt;<a data-link-type="idl-name" href="#mlmodel"><c- n>MLModel</c-></a>> <a href="#dom-mlmodelloader-load"><code><c- g>load</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-ArrayBuffer"><c- b>ArrayBuffer</c-></a> <a href="#dom-mlmodelloader-load-modelbuffer-modelbuffer"><code><c- g>modelBuffer</c-></code></a>);
};


</pre>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
    const dfnsJson = window.dfnsJson || {};

    function genDfnPanel({dfnID, url, dfnText, refSections, external}) {
        return mk.aside({
            class: "dfn-panel",
            id: `infopanel-for-${dfnID}`,
            "data-for": dfnID,
            "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
            },
            mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
                `Info about the '${dfnText}' ${external?"external":""} reference.`),
            mk.a({href:url}, url),
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({
                                    href: `#${ref.id}`
                                    },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        );
    }

    function genAllDfnPanels() {
        for(const panelData of Object.values(window.dfnpanelData)) {
            const dfnID = panelData.dfnID;
            const dfn = document.getElementById(dfnID);
            if(!dfn) {
                console.log(`Can't find dfn#${dfnID}.`, panelData);
            } else {
                const panel = genDfnPanel(panelData);
                append(document.body, panel);
                insertDfnPopupAction(dfn, panel)
            }
        }
    }

    document.addEventListener("DOMContentLoaded", ()=>{
        genAllDfnPanels();

        // Add popup behavior to all dfns to show the corresponding dfn-panel.
        var dfns = queryAll('.dfn-paneled');
        for(let dfn of dfns) { ; }

        document.body.addEventListener("click", (e) => {
            // If not handled already, just hide all dfn panels.
            hideAllDfnPanels();
        });
    })


    function hideAllDfnPanels() {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>hideDfnPanel(el));
    }

    function showDfnPanel(dfnPanel, dfn) {
        hideAllDfnPanels(); // Only display one at this time.
        dfn.setAttribute("aria-expanded", "true");
        dfnPanel.classList.add("on");
        dfnPanel.style.left = "5px";
        dfnPanel.style.top = "0px";
        const panelRect = dfnPanel.getBoundingClientRect();
        const panelWidth = panelRect.right - panelRect.left;
        if (panelRect.right > document.body.scrollWidth) {
            // Panel's overflowing the screen.
            // Just drop it below the dfn and flip it rightward instead.
            // This still wont' fix things if the screen is *really* wide,
            // but fixing that's a lot harder without 'anchor()'.
            dfnPanel.style.top = "1.5em";
            dfnPanel.style.left = "auto";
            dfnPanel.style.right = "0px";
        }
    }

    function pinDfnPanel(dfnPanel) {
        // Switch it to "activated" state, which pins it.
        dfnPanel.classList.add("activated");
        dfnPanel.style.left = null;
        dfnPanel.style.top = null;
    }

    function hideDfnPanel(dfnPanel, dfn) {
        if(!dfn) {
            dfn = document.getElementById(dfnPanel.getAttribute("data-for"));
        }
        dfn.setAttribute("aria-expanded", "false")
        dfnPanel.classList.remove("on");
        dfnPanel.classList.remove("activated");
    }

    function toggleDfnPanel(dfnPanel, dfn) {
        if(dfnPanel.classList.contains("on")) {
            hideDfnPanel(dfnPanel, dfn);
        } else {
            showDfnPanel(dfnPanel, dfn);
        }
    }

    function insertDfnPopupAction(dfn, dfnPanel) {
        // Find dfn panel
        const panelWrapper = document.createElement('span');
        panelWrapper.appendChild(dfnPanel);
        panelWrapper.style.position = "relative";
        panelWrapper.style.height = "0px";
        dfn.insertAdjacentElement("afterend", panelWrapper);
        dfn.setAttribute('role', 'button');
        dfn.setAttribute('aria-expanded', 'false')
        dfn.tabIndex = 0;
        dfn.classList.add('has-dfn-panel');
        dfn.addEventListener('click', (event) => {
            showDfnPanel(dfnPanel, dfn);
            event.stopPropagation();
        });
        dfn.addEventListener('keypress', (event) => {
            const kc = event.keyCode;
            // 32->Space, 13->Enter
            if(kc == 32 || kc == 13) {
                toggleDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        });

        dfnPanel.addEventListener('click', (event) => {
            if (event.target.nodeName == 'A') {
                pinDfnPanel(dfnPanel);
            }
            event.stopPropagation();
        });

        dfnPanel.addEventListener('keydown', (event) => {
            if(event.keyCode == 27) { // Escape key
                hideDfnPanel(dfnPanel, dfn);
                event.stopPropagation();
                event.preventDefault();
            }
        })
    }
}
</script>
<script>/* Boilerplate: script-dfn-panel-json */
window.dfnpanelData = {};
window.dfnpanelData['2f8afbfe'] = {"dfnID": "2f8afbfe", "url": "https://webidl.spec.whatwg.org/#idl-ArrayBuffer", "dfnText": "ArrayBuffer", "refSections": [{"refs": [{"id": "ref-for-idl-ArrayBuffer"}], "title": "2. API"}], "external": true};
window.dfnpanelData['6c9ab516'] = {"dfnID": "6c9ab516", "url": "https://webidl.spec.whatwg.org/#ArrayBufferView", "dfnText": "ArrayBufferView", "refSections": [{"refs": [{"id": "ref-for-ArrayBufferView"}], "title": "2. API"}], "external": true};
window.dfnpanelData['8855a9aa'] = {"dfnID": "8855a9aa", "url": "https://webidl.spec.whatwg.org/#idl-DOMString", "dfnText": "DOMString", "refSections": [{"refs": [{"id": "ref-for-idl-DOMString"}, {"id": "ref-for-idl-DOMString\u2460"}, {"id": "ref-for-idl-DOMString\u2461"}], "title": "2. API"}], "external": true};
window.dfnpanelData['889e932f'] = {"dfnID": "889e932f", "url": "https://webidl.spec.whatwg.org/#Exposed", "dfnText": "Exposed", "refSections": [{"refs": [{"id": "ref-for-Exposed"}, {"id": "ref-for-Exposed\u2460"}, {"id": "ref-for-Exposed\u2461"}], "title": "2. API"}], "external": true};
window.dfnpanelData['bdbd19d1'] = {"dfnID": "bdbd19d1", "url": "https://webidl.spec.whatwg.org/#idl-promise", "dfnText": "Promise", "refSections": [{"refs": [{"id": "ref-for-idl-promise"}, {"id": "ref-for-idl-promise\u2460"}, {"id": "ref-for-idl-promise\u2461"}], "title": "2. API"}], "external": true};
window.dfnpanelData['b75bb3bd'] = {"dfnID": "b75bb3bd", "url": "https://webidl.spec.whatwg.org/#SecureContext", "dfnText": "SecureContext", "refSections": [{"refs": [{"id": "ref-for-SecureContext"}], "title": "2. API"}], "external": true};
window.dfnpanelData['7787d359'] = {"dfnID": "7787d359", "url": "https://webidl.spec.whatwg.org/#idl-record", "dfnText": "record", "refSections": [{"refs": [{"id": "ref-for-idl-record"}, {"id": "ref-for-idl-record\u2460"}], "title": "2. API"}], "external": true};
window.dfnpanelData['9cce47fd'] = {"dfnID": "9cce47fd", "url": "https://webidl.spec.whatwg.org/#idl-sequence", "dfnText": "sequence", "refSections": [{"refs": [{"id": "ref-for-idl-sequence"}, {"id": "ref-for-idl-sequence\u2460"}, {"id": "ref-for-idl-sequence\u2461"}, {"id": "ref-for-idl-sequence\u2462"}], "title": "2. API"}], "external": true};
window.dfnpanelData['e97a9688'] = {"dfnID": "e97a9688", "url": "https://webidl.spec.whatwg.org/#idl-unsigned-long", "dfnText": "unsigned long", "refSections": [{"refs": [{"id": "ref-for-idl-unsigned-long"}, {"id": "ref-for-idl-unsigned-long\u2460"}, {"id": "ref-for-idl-unsigned-long\u2461"}], "title": "2. API"}], "external": true};
window.dfnpanelData['60ea3729'] = {"dfnID": "60ea3729", "url": "https://webmachinelearning.github.io/webnn/#mlcontext", "dfnText": "MLContext", "refSections": [{"refs": [{"id": "ref-for-mlcontext"}, {"id": "ref-for-mlcontext\u2460"}], "title": "2. API"}], "external": true};
window.dfnpanelData['enumdef-mlmodelformat'] = {"dfnID": "enumdef-mlmodelformat", "url": "#enumdef-mlmodelformat", "dfnText": "MLModelFormat", "refSections": [{"refs": [{"id": "ref-for-enumdef-mlmodelformat"}], "title": "2. API"}], "external": false};
window.dfnpanelData['enumdef-mldevicepreference'] = {"dfnID": "enumdef-mldevicepreference", "url": "#enumdef-mldevicepreference", "dfnText": "MLDevicePreference", "refSections": [{"refs": [{"id": "ref-for-enumdef-mldevicepreference"}], "title": "2. API"}], "external": false};
window.dfnpanelData['enumdef-mlpowerpreference'] = {"dfnID": "enumdef-mlpowerpreference", "url": "#enumdef-mlpowerpreference", "dfnText": "MLPowerPreference", "refSections": [{"refs": [{"id": "ref-for-enumdef-mlpowerpreference"}], "title": "2. API"}], "external": false};
window.dfnpanelData['dictdef-mlcontextoptions'] = {"dfnID": "dictdef-mlcontextoptions", "url": "#dictdef-mlcontextoptions", "dfnText": "MLContextOptions", "refSections": [{"refs": [{"id": "ref-for-dictdef-mlcontextoptions"}], "title": "2. API"}], "external": false};
window.dfnpanelData['enumdef-mldatatype'] = {"dfnID": "enumdef-mldatatype", "url": "#enumdef-mldatatype", "dfnText": "MLDataType", "refSections": [{"refs": [{"id": "ref-for-enumdef-mldatatype"}], "title": "2. API"}], "external": false};
window.dfnpanelData['dictdef-mltensor'] = {"dfnID": "dictdef-mltensor", "url": "#dictdef-mltensor", "dfnText": "MLTensor", "refSections": [{"refs": [{"id": "ref-for-dictdef-mltensor"}, {"id": "ref-for-dictdef-mltensor\u2460"}], "title": "2. API"}], "external": false};
window.dfnpanelData['dictdef-mltensorinfo'] = {"dfnID": "dictdef-mltensorinfo", "url": "#dictdef-mltensorinfo", "dfnText": "MLTensorInfo", "refSections": [{"refs": [{"id": "ref-for-dictdef-mltensorinfo"}, {"id": "ref-for-dictdef-mltensorinfo\u2460"}], "title": "2. API"}], "external": false};
window.dfnpanelData['mlmodel'] = {"dfnID": "mlmodel", "url": "#mlmodel", "dfnText": "MLModel", "refSections": [{"refs": [{"id": "ref-for-mlmodel"}], "title": "2. API"}], "external": false};
</script>
<script>/* Boilerplate: script-dom-helper */
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}
</script>